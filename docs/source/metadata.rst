.. _metadata:

========
Metadata
========

Each instance of the LocData class carries metadata that give details about the data history.

Each instance of an analysis class carries metadata that includes input parameters for reprocessing.

Metadata is saved together with data or analysis results in order to provide human- and machine-readable information
and serve for information exchange between methods.

Metadata containing method names and  parameter settings can e.g. be used in an analysis pipeline or for
batch processing.

All metadata is structured as (nested) key:value pairs and implemented through Google's protobuf format.


Structure of metadata for data classes
=======================================

The current structure for metadata of the Locdata class is defined in metadata.proto.

The current structure for metadata of Analysis classes is define in analysis_metadata.proto.

LocData:
---------

    Identifier: ``str``
            Some short name.

    Comment: ``str``
            User comment.

    Production date: ``str`` (ISO standard)
            Date and time when the data was initially generated by experiment or simulation.

    Creation date: ``str`` (ISO standard)
            Date and time when the current dataset was created from original data.

    Modification date: ``str`` (ISO standard)
            Date and time when the data was last modified.

    Source: ``str``
        Describes where the data is from.

        \[experiment, simulation, design, import (from some other program)]

    State: ``str``
        Indicator if data is original (as recorded) or has been modified.

        \[raw, modified]

    Experimental setup: ``dict``
        Information about the setup on which the data was generated.

    Experimental sample: ``dict``
        Information about the sample that was imaged.

    Simulation: ``dict``
        Detailed information about the simulation that was used to generate the data.

        \{'Description': '', 'Method': '', 'Parameter': {}},

    File type: ``str``
        Name of the file or program that produced the data (a fitter or simulation program).

        \[rapidStorm, Elyra, ThunderStorm, Locan]

    File path: ``str``
        Path and name of data file.

        \[path, empty string]

    Number of elements: ``int``
        Number of elements in locdata.

    Number of frames: ``int``
        Number of frames in locdata.

    Units: ``dict``
        A dictionary with units for localization properties.

    History: ``dict``
        A list of modifications that were applied to the original data. Each element contains a dict with
        function name and parameter for the applied method.

        \[{'Method:': '', 'Parameter': {}}]

    Ancestor id: ``str`` or ``list``
        Identifier or list of identifiers of locdata from which this locdata object is derived.



Structure of metadata for analysis classes
===========================================

Analysis class:
---------------

    Identifier: ``str``
            Some short name.

    Creation date: ``str`` (ISO standard)
            Date and time when the current dataset was created.

    Method: ``dict``
        A dictionary with 'name' and 'parameter' describing the applied analysis procedure. This data can be used
        to programmatically rerun the procedure.

    Comments: ``str``
        A user comment.




