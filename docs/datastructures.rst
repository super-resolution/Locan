.. _datastructures:

================
Data structures
================

TheProject will provide classes for the following types of data structures:

    1) localization data
    2) selections of localization data
    3) collections of selections
    4) analysis results (not clear if this is needed as an independent class or if it will be part of each Analysis class)

The corresponding classes are:

    0) class LocData()
    1) class Dataset()
    2) class Selection()
    3) class Collection()
    4) class SomeAnalysis() (where SomeAnalysis is a placeholder for individual analysis routines.)

Comments on LocData:
----------------------------

1) Dataset:
    A Dataset object carries a list of localization data. Each localization has several properties (detailed list
    in :ref:`properties`) like

        * coordinates
        * intensity
        * frame
        * ...

    There is no fundamental difference between 2D and 3D localization data.

    Multiple sets of localization data like two-color localizations will be represented by independent Dataset objects.

    The unit for length throughout the project is given by the input unit for localization coordinates. In most cases
    the unit will be nanometre.


2) Selection:
    A Selection cannot be instantiated without prior existence of a Dataset object.

    All user procedures for manipulation and analysis will work on Selection objects.

    Selections carry a reference to a Dataset object and a list of selected indices to not copy the Dataset with all
    localization properties for each Selection. This way a large set of Selections can be created with minimal memory
    requirements.

    Selections also carry modified or new localization properties. Changing localization properties in a Dataset for
    selected localizations is not allowed since it would have effects for other Selections referring to the same
    Dataset.

    There are various hulls for a selection:

        1. minimal bounding box
        #. minimal oriented bounding box
        #. convex hull
        #. alpha complex

    Each selection has several properties (detailed list in :ref:`properties`) like:

        * total number of localizations
        * centroid
        * total emission strength
        * area/volume (for all possible hulls)
        * ...

3) Collection:
    A Collection carries a list of Selections as e.g. generated by clustering the localization data.

    There are various hulls for a collection (i.e. hull of all unified selections):

        1. minimal bounding box
        #. minimal oriented bounding box
        #. convex hull
        #. alpha complex

    A Collection has several properties (detailed list in :ref:`properties`) like:

        * number of selections
        * centroid
        * area/volume (for all possible hulls)
        * sum of area/volume (for all selection hulls)
        * ...

